# Урок 49: Сборка ядра
##### Задача: собрать ядро Linux под архитектуру arm и загрузить в эмулятор qemu
###### Шаги выполнения:
1. Установил всё необходимое через пакетный менеджер: кросс-компилятор arm-linux-gnueabihf- и эмулятор qemu-system-arm.
2. Скачал ядро 5.15.140 LTS с kernel.org
3. На всякий случай очистил файлы конфигурации(их там не оказалось)

    ![](./screenshots/1.png)

4. Запустил процесс генерирования файла конфигурации.

    ![](./screenshots/2.png)

    Однако, операция остановилась:

    ![](./screenshots/3.png)

    Установил flex с помощью пакетного менеджера: 

    ![](./screenshots/4.png)

    и файл сгенерировался успешно.

    ![](./screenshots/5.png)

5. Начал процесс сборки ядра.

    ![](./screenshots/6.png)

    Через несколько секунд сборка была остановлена:

    ![](./screenshots/7.png)

    Исправляю.

    ![](./screenshots/8.png)

    Через несколько минут сборка успешно завершилась.

    ![](./screenshots/9.png)

    Проверяю:

    ![](./screenshots/10.png)

6. Для запуска не хватает файла древа устройств. Компилирую:

    ![](./screenshots/11.png)

7. Можно запускать:

    ![](./screenshots/12.png)

    Ожидаемо, из-за отсутствия файловой системы, ядро прерывает загрузку на финальном этапе:
    
    ![](./screenshots/13.png)

Цель выполнена.
